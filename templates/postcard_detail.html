{% extends 'base.html' %}

{% block title %}Postcard {{ postcard.uuid }}{% endblock %}

{% block content %}

<style>
  .media-container {
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    background-color: #f0f0f0;
  }

  .media-content {
    max-width: 80%;
    max-height: 80%;
    box-shadow: 0 0 20px rgba(0, 0, 0, 0.3);
    border-radius: 10px;
    overflow: hidden;
  }

  .media-content video,
  .media-content img {
    width: 100%;
    height: auto;
    display: block;
  }
</style>

<div class="media-container">
  <div class="media-content">
    <h1>Postcard {{ postcard.uuid }}</h1>

    {% if media_file %}
      {% if media_file.is_video %}
        <video autoplay controls preload>
          <source src="{{ media_file.file.url }}" type="video/mp4">
          Your browser does not support the video tag.
        </video>
      {% elif media_file.is_image %}
        <img src="{{ media_file.file.url }}" alt="Postcard Image">
      {% else %}
        <p>Unsupported media type.</p>
      {% endif %}

      <form method="post" action="" enctype="multipart/form-data">
        {% csrf_token %}
        {{ delete_form.password.label_tag }} {{ delete_form.password }}
        <button type="submit" name="delete_photo">Delete Media</button>
      </form>

    {% else %}
      <form method="post" action="" enctype="multipart/form-data">
        {% csrf_token %}
        {{ add_form.file.label_tag }} {{ add_form.file }}
        {{ add_form.password.label_tag }} {{ add_form.password }}
        <button type="submit" name="add_photo">Add Media</button>
      </form>
    {% endif %}
  </div>
</div>
{% endblock %}
